---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer.astro';
import Navbar from '../components/Navbar.astro';
---

<Layout>
  <Navbar />

  <div class="setup-page">

    <!-- Hero -->
    <section class="bg-white dark:bg-gray-900">
      <div class="pt-28 lg:pt-36 pb-12 lg:pb-16 px-4 mx-auto max-w-screen-xl">
        <div class="max-w-screen-md">

          <!-- Badge -->
          <div class="reveal mb-8">
            <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
              <img src="/slack.png" class="w-4 h-4" alt="Slack" />
              <span class="text-sm font-medium text-gray-600 dark:text-gray-300">Setup Guide</span>
            </span>
          </div>

          <h1 class="reveal rd1 text-4xl md:text-5xl font-semibold tracking-tight text-gray-900 dark:text-white mb-4">Slack Integration Setup Guide</h1>
          <p class="reveal rd2 text-lg text-gray-500 dark:text-gray-400 leading-relaxed max-w-lg mb-6">Follow these steps to connect Sindre to your Slack workspace. Setup takes under 5&nbsp;minutes.</p>
          <div class="reveal rd3">
            <a href="https://slack.com/oauth/v2/authorize?client_id=7432820969396.7427451311141&scope=app_mentions:read,channels:history,channels:read,chat:write,commands,groups:history,groups:read,im:history,im:read,im:write,mpim:read,team:read,users:read,users:read.email,links:read,links:write,reactions:read&user_scope=users:read,users:read.email,team:read"><img alt="Add to Slack" height="40" width="139" src="https://platform.slack-edge.com/img/add_to_slack.png" srcset="https://platform.slack-edge.com/img/add_to_slack.png 1x, https://platform.slack-edge.com/img/add_to_slack@2x.png 2x" /></a>
          </div>
        </div>
      </div>
    </section>

    <!-- Divider -->
    <div class="norse-divider mx-auto max-w-screen-lg"></div>

    <!-- Steps -->
    <section class="bg-white dark:bg-gray-900">
      <div class="py-12 lg:py-20 px-4 mx-auto max-w-screen-xl">
        <div class="max-w-screen-md space-y-16">

          <!-- Step 1 -->
          <div class="reveal step-block">
            <span class="step-num">01</span>
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Sign in to Sindre</h2>
            <p class="text-sm text-gray-400 dark:text-gray-500 mb-5">Access your Sindre account to begin setup.</p>
            <ol class="space-y-3 text-gray-500 dark:text-gray-400 leading-relaxed">
              <li class="flex items-start gap-3">
                <span class="step-list-num">1</span>
                Go to <a class="text-brand-600 dark:text-brand-400 hover:underline" href="https://app.sindre.ai/signup" target="_blank">app.sindre.ai/signup</a>
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">2</span>
                Sign in with your existing account or create a new one
              </li>
            </ol>
          </div>

          <!-- Step 2 -->
          <div class="reveal rd1 step-block">
            <span class="step-num">02</span>
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Connect Slack</h2>
            <p class="text-sm text-gray-400 dark:text-gray-500 mb-5">Link your Slack workspace to Sindre.</p>
            <ol class="space-y-3 text-gray-500 dark:text-gray-400 leading-relaxed">
              <li class="flex items-start gap-3">
                <span class="step-list-num">1</span>
                Navigate to <a class="text-brand-600 dark:text-brand-400 hover:underline" href="https://app.sindre.ai/settings?tab=integrations" target="_blank">Settings &rarr; Integrations</a>
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">2</span>
                Find Slack in the list of available integrations
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">3</span>
                Click "Connect" and authorize Sindre to access your Slack workspace
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">4</span>
                Select the workspace you want to connect
              </li>
            </ol>
            <a href="https://app.sindre.ai/settings?tab=integrations" class="inline-flex items-center gap-1 mt-5 text-sm font-medium text-brand-600 dark:text-brand-400 hover:text-brand-800 dark:hover:text-brand-300 transition-colors">
              Go to Integration Settings
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>
            </a>
          </div>

          <!-- Step 3 -->
          <div class="reveal rd2 step-block">
            <span class="step-num">03</span>
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Configure Settings</h2>
            <p class="text-sm text-gray-400 dark:text-gray-500 mb-5">Customize how Sindre works with your Slack workspace.</p>
            <ol class="space-y-3 text-gray-500 dark:text-gray-400 leading-relaxed">
              <li class="flex items-start gap-3">
                <span class="step-list-num">1</span>
                Set your notification preferences (task updates, mentions, weekly summaries)
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">2</span>
                Configure a default channel for notifications (optional)
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">3</span>
                Enable or disable auto-response features for @mentions
              </li>
            </ol>
          </div>

          <!-- Step 4 -->
          <div class="reveal rd3 step-block">
            <span class="step-num">04</span>
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Start Using Sindre in Slack</h2>
            <p class="text-sm text-gray-400 dark:text-gray-500 mb-5">Begin enhancing your Slack workflow.</p>
            <ol class="space-y-3 text-gray-500 dark:text-gray-400 leading-relaxed">
              <li class="flex items-start gap-3">
                <span class="step-list-num">1</span>
                Try the <code class="bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm text-gray-700 dark:text-gray-300">/sindre</code> command in any channel to see available options
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">2</span>
                Mention <code class="bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm text-gray-700 dark:text-gray-300">@Sindre</code> in a message thread to start a conversation
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">3</span>
                React to a message with a designated emoji to capture it as a task or insight
              </li>
              <li class="flex items-start gap-3">
                <span class="step-list-num">4</span>
                Check the Sindre Home tab for your personalized dashboard
              </li>
            </ol>
          </div>

          <!-- Need Help -->
          <div class="reveal step-block">
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">Need Help?</h2>
            <p class="text-gray-500 dark:text-gray-400 leading-relaxed mb-4">Please contact us if you're experiencing troubles when setting up the integration.</p>
            <a href="https://www.sindre.ai/contact" class="inline-flex items-center gap-1 text-sm font-medium text-brand-600 dark:text-brand-400 hover:text-brand-800 dark:hover:text-brand-300 transition-colors">
              Contact Support
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>
            </a>
          </div>

        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="relative bg-gray-900 dark:bg-gray-800 overflow-hidden">
      <div class="absolute inset-0 opacity-[0.05] pointer-events-none">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <pattern id="cta-lattice" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M20 0 L40 20 L20 40 L0 20Z" fill="none" stroke="white" stroke-width="0.5"/>
          </pattern>
          <rect width="100%" height="100%" fill="url(#cta-lattice)" />
        </svg>
      </div>
      <div class="relative py-16 lg:py-24 px-4 mx-auto max-w-screen-md text-center">
        <h2 class="reveal text-3xl md:text-5xl font-semibold text-white mb-4">Ready to Get Started?</h2>
        <p class="reveal rd1 text-lg text-gray-400 max-w-xl mx-auto leading-relaxed mb-10">Connect Sindre to Slack and bring AI-powered productivity to your&nbsp;workspace.</p>
        <div class="reveal rd2 flex flex-col sm:flex-row gap-3 justify-center">
          <a href="https://app.sindre.ai/signup" class="inline-flex items-center px-6 py-3 text-white bg-brand-700 hover:bg-brand-800 rounded-lg font-medium transition-colors focus:ring-4 focus:ring-brand-200 dark:focus:ring-brand-900">
            Get started
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
          </a>
          <a href="/slack" class="inline-flex items-center px-6 py-3 text-gray-300 border border-gray-600 hover:bg-gray-800 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors">
            Learn more
          </a>
        </div>
      </div>
    </section>

    <Footer />
  </div>
</Layout>

<style>
  .setup-page {
    font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;
  }
  .norse-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, #9CA3AF, transparent);
    opacity: 0.3;
  }
  .dark .norse-divider { opacity: 0.15; }

  .step-num {
    display: block;
    font-size: 3rem;
    line-height: 1;
    font-weight: 600;
    color: #E5E7EB;
    user-select: none;
    margin-bottom: 0.75rem;
  }
  :global(.dark) .step-num {
    color: #374151;
  }

  .step-list-num {
    flex-shrink: 0;
    width: 1.25rem;
    height: 1.25rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    background: #F3F4F6;
    color: #6B7280;
    font-size: 0.7rem;
    font-weight: 600;
    margin-top: 0.15rem;
  }
  :global(.dark) .step-list-num {
    background: #1F2A37;
    color: #9CA3AF;
  }

  .reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.7s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.7s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .rd1 { transition-delay: 0.1s; }
  .rd2 { transition-delay: 0.2s; }
  .rd3 { transition-delay: 0.3s; }
</style>

<script is:inline>
  (function() {
    var observer = new IntersectionObserver(
      function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) entry.target.classList.add('visible');
        });
      },
      { threshold: 0.1, rootMargin: '0px 0px -32px 0px' }
    );
    document.querySelectorAll('.setup-page .reveal').forEach(function(el) {
      observer.observe(el);
    });
  })();
</script>
