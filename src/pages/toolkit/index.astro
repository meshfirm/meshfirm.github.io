---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import { discoverManifests, getAllPages, getCategories, formatCategoryTitle } from '../../lib/content-loader';

const manifests = discoverManifests();
const allPages = getAllPages();

// Compute total stats
const totalFrameworks = allPages.filter(p => p.collectionId === 'frameworks').length;
const totalLearningPlans = allPages.filter(p => p.collectionId === 'learning-plans').length;
const totalCategories = manifests.reduce((acc, { manifest }) => {
  return acc + getCategories(allPages, manifest.repo.slug, 'frameworks').length;
}, 0);

// Category icons mapped by category slug
const categoryIcons: Record<string, string> = {
  career: 'M16 19h4a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-2m-2.236-4a3 3 0 1 0 0-4M3 18v-1a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1Zm8-10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z',
  communication: 'm14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z',
  'decision-making': 'M5.005 11.19V12l6.998 4.042L19 12v-.81M5 16.15v.81L11.997 21l6.998-4.042v-.81M12.003 3 5.005 7.042l6.998 4.042L19 7.042 12.003 3Z',
  discovery: 'M16.872 9.687 20 6.56 17.44 4 4 17.44 6.56 20 16.873 9.687Zm0 0-2.56-2.56M6 7v2m0 0v2m0-2H4m2 0h2m7 7v2m0 0v2m0-2h-2m2 0h2M8 4h.01v.01H8V4Zm2 2h.01v.01H10V6Zm2-2h.01v.01H12V4Zm8 8h.01v.01H20V12Zm-2 2h.01v.01H18V14Zm2 2h.01v.01H20V16Z',
  execution: 'M10 3v4a1 1 0 0 1-1 1H5m4 10v-2m3 2v-6m3 6v-3m4-11v16a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7.914a1 1 0 0 1 .293-.707l3.914-3.914A1 1 0 0 1 9.914 3H18a1 1 0 0 1 1 1Z',
  growth: 'M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961',
  leadership: 'M12 6.03v13m0-13c-2.819-.831-4.715-1.076-8.029-1.023A.99.99 0 0 0 3 6v11c0 .563.466 1.014 1.03 1.007 3.122-.043 5.018.212 7.97 1.023m0-13c2.819-.831 4.715-1.076 8.029-1.023A.99.99 0 0 1 21 6v11c0 .563-.466 1.014-1.03 1.007-3.122-.043-5.018.212-7.97 1.023',
  'product-strategy': 'M9 9a3 3 0 0 1 3-3m-2 15h4m0-3c0-4.1 4-4.9 4-9A6 6 0 1 0 6 9c0 4 4 5 4 9h4Z',
  'team-building': 'M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z',
};
const defaultIcon = 'M5.005 11.19V12l6.998 4.042L19 12v-.81M5 16.15v.81L11.997 21l6.998-4.042v-.81M12.003 3 5.005 7.042l6.998 4.042L19 7.042 12.003 3Z';

// Category short descriptions
const categoryDescriptions: Record<string, string> = {
  career: 'Navigate your PM career path with proven frameworks for growth and advancement.',
  communication: 'Master stakeholder communication, storytelling, and cross-functional alignment.',
  'decision-making': 'Structured approaches to make better product decisions under uncertainty.',
  discovery: 'Techniques for uncovering user needs, validating ideas, and finding product-market fit.',
  execution: 'Ship faster with frameworks for prioritization, planning, and delivery.',
  growth: 'Drive sustainable product growth through acquisition, retention, and engagement.',
  leadership: 'Lead product teams effectively with influence, vision, and strategic thinking.',
  'product-strategy': 'Define and communicate compelling product strategies that win markets.',
  'team-building': 'Build high-performing product teams through hiring, culture, and collaboration.',
};
---

<Layout>
  <Navbar />

  <div class="toolkit-page">

    <!-- ═══════════════════════════════════ HERO ═══════════════════════════════════ -->
    <section class="relative overflow-hidden bg-white dark:bg-gray-900">
      <!-- Diamond lattice background -->
      <div class="absolute inset-0 opacity-[0.025] dark:opacity-[0.04] pointer-events-none">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <pattern id="norse-lattice-hero" x="0" y="0" width="56" height="56" patternUnits="userSpaceOnUse">
            <path d="M28 0 L56 28 L28 56 L0 28Z" fill="none" stroke="#6B7280" stroke-width="0.6"/>
          </pattern>
          <rect width="100%" height="100%" fill="url(#norse-lattice-hero)" />
        </svg>
      </div>

      <div class="relative pt-28 lg:pt-36 pb-16 lg:pb-24 px-4 mx-auto max-w-screen-xl">
        <div class="mx-auto max-w-screen-md text-center">

          <!-- Badge -->
          <div class="reveal mb-8">
            <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
              <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0"/>
              </svg>
              <span class="text-sm font-medium text-gray-600 dark:text-gray-300">100% Free Resources</span>
            </span>
          </div>

          <!-- Headline -->
          <h1 class="reveal rd1 text-5xl md:text-6xl xl:text-7xl font-semibold leading-[1.08] tracking-tight text-gray-900 dark:text-white mb-6">
            The Product Manager's <span class="text-brand-600 dark:text-brand-400">Toolkit</span>
          </h1>

          <!-- Subtitle -->
          <p class="reveal rd2 text-lg text-gray-500 dark:text-gray-400 max-w-xl mx-auto leading-relaxed mb-10">
            Free learning materials, practical tools, and ready-to-use templates to help you build better products. Created by PMs, for&nbsp;PMs.
          </p>

          <!-- CTAs -->
          <div class="reveal rd3 flex flex-col sm:flex-row gap-3 justify-center mb-16">
            <a href="#learn" class="inline-flex items-center px-6 py-3 text-white bg-brand-700 hover:bg-brand-800 rounded-lg font-medium transition-colors focus:ring-4 focus:ring-brand-200 dark:focus:ring-brand-900">
              Start Learning
              <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
              </svg>
            </a>
            <a href="#tools" class="inline-flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors">
              Explore Tools
            </a>
          </div>

          <!-- Stats row -->
          <div class="reveal rd4 flex items-center justify-center gap-8 sm:gap-12">
            <div class="text-center">
              <div class="text-2xl sm:text-3xl font-semibold text-gray-900 dark:text-white stat-number" data-target={totalFrameworks}>0</div>
              <div class="text-xs sm:text-sm text-gray-400 dark:text-gray-500 mt-1">Frameworks</div>
            </div>
            <div class="w-px h-8 bg-gray-200 dark:bg-gray-700"></div>
            <div class="text-center">
              <div class="text-2xl sm:text-3xl font-semibold text-gray-900 dark:text-white stat-number" data-target={totalCategories}>0</div>
              <div class="text-xs sm:text-sm text-gray-400 dark:text-gray-500 mt-1">Categories</div>
            </div>
            <div class="w-px h-8 bg-gray-200 dark:bg-gray-700"></div>
            <div class="text-center">
              <div class="text-2xl sm:text-3xl font-semibold text-gray-900 dark:text-white stat-number" data-target={totalLearningPlans}>0</div>
              <div class="text-xs sm:text-sm text-gray-400 dark:text-gray-500 mt-1">Learning Plans</div>
            </div>
            <div class="w-px h-8 bg-gray-200 dark:bg-gray-700"></div>
            <div class="text-center">
              <div class="text-2xl sm:text-3xl font-semibold text-gray-900 dark:text-white">284</div>
              <div class="text-xs sm:text-sm text-gray-400 dark:text-gray-500 mt-1">Episodes</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Divider -->
    <div class="norse-divider mx-auto max-w-screen-lg"></div>

    <!-- ═══════════════════════════════ FRAMEWORKS ═══════════════════════════════ -->
    <section id="learn" class="bg-gray-50 dark:bg-gray-800/50">
      <div class="py-16 lg:py-24 px-4 mx-auto max-w-screen-xl">

        <!-- Section heading -->
        <div class="text-center mb-14">
          <div class="reveal inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-200/60 dark:bg-gray-700/40 mb-5">
            <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342"/>
            </svg>
            <span class="text-xs font-medium text-gray-500 dark:text-gray-400 tracking-wide">From Lenny's Podcast</span>
          </div>
          <h2 class="reveal rd1 text-3xl md:text-5xl font-semibold text-gray-900 dark:text-white mb-4">Level Up Your PM Skills</h2>
          <p class="reveal rd2 text-lg text-gray-500 dark:text-gray-400 max-w-xl mx-auto leading-relaxed">{totalFrameworks}+ mental models and frameworks from top product leaders, organized into {totalCategories} categories.</p>
        </div>

        <!-- Frameworks grid -->
        <div class="grid gap-5 md:grid-cols-2 lg:grid-cols-3">
          {manifests.map(({ manifest }) => {
            const repoPages = allPages.filter(p => p.repoSlug === manifest.repo.slug);
            const categories = getCategories(allPages, manifest.repo.slug, 'frameworks');
            const delays = ['rd1', 'rd2', 'rd3', 'rd1', 'rd2', 'rd3', 'rd1', 'rd2', 'rd3'];

            return categories.map((cat, i) => {
              const catPages = repoPages.filter(p => p.collectionId === 'frameworks' && p.category === cat);
              const icon = categoryIcons[cat] || defaultIcon;
              const description = categoryDescriptions[cat] || `${catPages.length} frameworks from top product leaders`;
              return (
                <a href={`/toolkit/${manifest.repo.slug}/frameworks/${cat}/`}
                  class={`feature-card reveal ${delays[i]} group p-7 rounded-xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-800/40 relative overflow-hidden`}>
                  <div class="relative">
                    <div class="flex items-start justify-between mb-4">
                      <div class="flex items-center gap-3.5">
                        <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700/50 transition-colors group-hover:bg-gray-200 dark:group-hover:bg-gray-700">
                          <svg class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d={icon}/>
                          </svg>
                        </div>
                        <div>
                          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">{formatCategoryTitle(cat)}</h3>
                        </div>
                      </div>
                      <span class="flex-shrink-0 mt-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700/50">{catPages.length}</span>
                    </div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-4">{description}</p>
                    <span class="inline-flex items-center gap-1.5 text-sm font-medium text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors">
                      Browse frameworks
                      <svg class="w-3.5 h-3.5 transition-transform group-hover:translate-x-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
                      </svg>
                    </span>
                  </div>
                </a>
              );
            });
          }).flat()}
        </div>
      </div>
    </section>

    <!-- ═══════════════════════════════ LEARNING PLANS ═══════════════════════════════ -->
    <section id="learning-plans" class="bg-white dark:bg-gray-900">
      <div class="py-16 lg:py-24 px-4 mx-auto max-w-screen-xl">

        <!-- Section heading -->
        <div class="text-center mb-14">
          <div class="reveal inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-200/60 dark:bg-gray-700/40 mb-5">
            <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"/>
            </svg>
            <span class="text-xs font-medium text-gray-500 dark:text-gray-400 tracking-wide">Guided Curricula</span>
          </div>
          <h2 class="reveal rd1 text-3xl md:text-5xl font-semibold text-gray-900 dark:text-white mb-4">Learning Plans</h2>
          <p class="reveal rd2 text-lg text-gray-500 dark:text-gray-400 max-w-xl mx-auto leading-relaxed">Structured curricula that guide you through the frameworks step by step, tailored to your career stage.</p>
        </div>

        <!-- Learning plans grid -->
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          {manifests.map(({ manifest }) => {
            const repoPages = allPages.filter(p => p.repoSlug === manifest.repo.slug);
            const lpPages = repoPages
              .filter(p => p.collectionId === 'learning-plans')
              .sort((a, b) => a.title.localeCompare(b.title));
            const delays = ['rd1', 'rd2', 'rd3', 'rd4', 'rd1', 'rd2', 'rd3'];

            return lpPages.map((page, i) => (
              <a href={page.url}
                class={`lp-card reveal ${delays[i]} group relative p-5 rounded-xl border border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/30 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all`}>
                <div class="flex items-start gap-3.5">
                  <div class="flex-shrink-0 flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700/50 group-hover:bg-gray-200 dark:group-hover:bg-gray-700 transition-colors mt-0.5">
                    <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.03v13m0-13c-2.819-.831-4.715-1.076-8.029-1.023A.99.99 0 0 0 3 6v11c0 .563.466 1.014 1.03 1.007 3.122-.043 5.018.212 7.97 1.023m0-13c2.819-.831 4.715-1.076 8.029-1.023A.99.99 0 0 1 21 6v11c0 .563-.466 1.014-1.03 1.007-3.122-.043-5.018.212-7.97 1.023"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <h3 class="text-base font-semibold text-gray-900 dark:text-white mb-1.5">{page.title}</h3>
                    {page.frontmatter.target_audience && (
                      <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-3 line-clamp-2">{page.frontmatter.target_audience}</p>
                    )}
                    <div class="flex items-center gap-2 text-xs">
                      {page.frontmatter.difficulty && (
                        <span class="px-2 py-0.5 bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 rounded font-medium">{page.frontmatter.difficulty}</span>
                      )}
                      {page.frontmatter.time_commitment && (
                        <span class="text-gray-400 dark:text-gray-500">{page.frontmatter.time_commitment}</span>
                      )}
                    </div>
                  </div>
                  <svg class="flex-shrink-0 w-4 h-4 text-gray-300 dark:text-gray-600 group-hover:text-gray-400 dark:group-hover:text-gray-500 transition-colors mt-1.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
                  </svg>
                </div>
              </a>
            ));
          }).flat()}
        </div>
      </div>
    </section>

    <!-- ═══════════════════════════════ FREE PM TOOLS ═══════════════════════════════ -->
    <section id="tools" class="bg-gray-50 dark:bg-gray-800/50">
      <div class="py-16 lg:py-24 px-4 mx-auto max-w-screen-xl">

        <!-- Section heading -->
        <div class="text-center mb-14">
          <div class="reveal inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-200/60 dark:bg-gray-700/40 mb-5">
            <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085"/>
            </svg>
            <span class="text-xs font-medium text-gray-500 dark:text-gray-400 tracking-wide">No Sign-up Required</span>
          </div>
          <h2 class="reveal rd1 text-3xl md:text-5xl font-semibold text-gray-900 dark:text-white mb-4">Free PM Tools</h2>
          <p class="reveal rd2 text-lg text-gray-500 dark:text-gray-400 max-w-xl mx-auto leading-relaxed">Small, focused tools to help you work faster and make better decisions.</p>
        </div>

        <!-- Tools grid -->
        <div class="grid gap-5 md:grid-cols-2 lg:grid-cols-3">

          <!-- Tool 1 -->
          <div class="tool-card feature-card reveal rd1 group p-7 rounded-xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-800/40 relative overflow-hidden">
            <div class="flex items-start gap-4 mb-4">
              <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700/50">
                <svg class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M10 3v4a1 1 0 0 1-1 1H5m4 10v-2m3 2v-6m3 6v-3m4-11v16a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7.914a1 1 0 0 1 .293-.707l3.914-3.914A1 1 0 0 1 9.914 3H18a1 1 0 0 1 1 1Z"/>
                </svg>
              </div>
              <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">RICE Score Calculator</h3>
                <span class="inline-flex px-2 py-0.5 text-[11px] font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700/50 rounded">Interactive</span>
              </div>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-5">Quickly calculate RICE scores for your feature ideas and compare them side by side.</p>
            <div class="flex items-center gap-2 text-sm text-gray-400 dark:text-gray-500">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-400 dark:bg-amber-500"></span>
              Coming soon
            </div>
          </div>

          <!-- Tool 2 -->
          <div class="tool-card feature-card reveal rd2 group p-7 rounded-xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-800/40 relative overflow-hidden">
            <div class="flex items-start gap-4 mb-4">
              <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700/50">
                <svg class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"/>
                </svg>
              </div>
              <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">User Story Generator</h3>
                <span class="inline-flex px-2 py-0.5 text-[11px] font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700/50 rounded">Interactive</span>
              </div>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-5">Turn rough ideas into well-structured user stories with acceptance criteria.</p>
            <div class="flex items-center gap-2 text-sm text-gray-400 dark:text-gray-500">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-400 dark:bg-amber-500"></span>
              Coming soon
            </div>
          </div>

          <!-- Tool 3 -->
          <div class="tool-card feature-card reveal rd3 group p-7 rounded-xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-800/40 relative overflow-hidden">
            <div class="flex items-start gap-4 mb-4">
              <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700/50">
                <svg class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
              </div>
              <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">Sprint Velocity Tracker</h3>
                <span class="inline-flex px-2 py-0.5 text-[11px] font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700/50 rounded">Interactive</span>
              </div>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-5">Track your team's velocity over time and forecast delivery with simple charts.</p>
            <div class="flex items-center gap-2 text-sm text-gray-400 dark:text-gray-500">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-400 dark:bg-amber-500"></span>
              Coming soon
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- ═══════════════════════════════ TEMPLATES ═══════════════════════════════ -->
    <section id="templates" class="bg-white dark:bg-gray-900">
      <div class="py-16 lg:py-24 px-4 mx-auto max-w-screen-xl">

        <!-- Section heading -->
        <div class="text-center mb-14">
          <div class="reveal inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-200/60 dark:bg-gray-700/40 mb-5">
            <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"/>
            </svg>
            <span class="text-xs font-medium text-gray-500 dark:text-gray-400 tracking-wide">Downloadable</span>
          </div>
          <h2 class="reveal rd1 text-3xl md:text-5xl font-semibold text-gray-900 dark:text-white mb-4">Ready-to-Use Templates</h2>
          <p class="reveal rd2 text-lg text-gray-500 dark:text-gray-400 max-w-xl mx-auto leading-relaxed">Download and customize templates that real product managers use every day.</p>
        </div>

        <!-- Templates grid -->
        <div class="grid gap-5 sm:grid-cols-2 lg:grid-cols-4">

          <!-- Template 1 -->
          <div class="template-card reveal rd1 group p-6 rounded-xl border border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/30">
            <!-- Mini document preview -->
            <div class="mb-5 rounded-lg border border-gray-100 dark:border-gray-700/50 bg-white dark:bg-gray-800/60 p-3.5 h-28 overflow-hidden">
              <div class="h-2 w-16 bg-gray-200 dark:bg-gray-700 rounded mb-2.5"></div>
              <div class="space-y-1.5">
                <div class="h-1.5 w-full bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                <div class="h-1.5 w-5/6 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                <div class="h-1.5 w-full bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                <div class="h-1.5 w-3/4 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
              </div>
              <div class="h-2 w-12 bg-gray-200 dark:bg-gray-700 rounded mt-3 mb-2"></div>
              <div class="space-y-1.5">
                <div class="h-1.5 w-full bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                <div class="h-1.5 w-2/3 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
              </div>
            </div>
            <h3 class="text-base font-semibold text-gray-900 dark:text-white mb-1">PRD Template</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-3">Product requirements document with sections for goals, scope, and specs.</p>
            <div class="flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-400 dark:bg-amber-500"></span>
              Coming soon
            </div>
          </div>

          <!-- Template 2 -->
          <div class="template-card reveal rd2 group p-6 rounded-xl border border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/30">
            <!-- Mini document preview -->
            <div class="mb-5 rounded-lg border border-gray-100 dark:border-gray-700/50 bg-white dark:bg-gray-800/60 p-3.5 h-28 overflow-hidden">
              <div class="h-2 w-20 bg-gray-200 dark:bg-gray-700 rounded mb-2.5"></div>
              <div class="grid grid-cols-3 gap-2">
                <div class="space-y-1.5">
                  <div class="h-1.5 w-full bg-emerald-100 dark:bg-emerald-900/30 rounded"></div>
                  <div class="h-1.5 w-full bg-emerald-100 dark:bg-emerald-900/30 rounded"></div>
                </div>
                <div class="space-y-1.5">
                  <div class="h-1.5 w-full bg-amber-100 dark:bg-amber-900/30 rounded"></div>
                  <div class="h-1.5 w-full bg-amber-100 dark:bg-amber-900/30 rounded"></div>
                </div>
                <div class="space-y-1.5">
                  <div class="h-1.5 w-full bg-rose-100 dark:bg-rose-900/30 rounded"></div>
                  <div class="h-1.5 w-full bg-rose-100 dark:bg-rose-900/30 rounded"></div>
                </div>
              </div>
              <div class="h-px w-full bg-gray-100 dark:bg-gray-700/50 my-2.5"></div>
              <div class="space-y-1.5">
                <div class="h-1.5 w-full bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                <div class="h-1.5 w-4/5 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
              </div>
            </div>
            <h3 class="text-base font-semibold text-gray-900 dark:text-white mb-1">Sprint Retro</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-3">Retrospective meeting format with went well, improve, and action items.</p>
            <div class="flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-400 dark:bg-amber-500"></span>
              Coming soon
            </div>
          </div>

          <!-- Template 3 -->
          <div class="template-card reveal rd3 group p-6 rounded-xl border border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/30">
            <!-- Mini document preview -->
            <div class="mb-5 rounded-lg border border-gray-100 dark:border-gray-700/50 bg-white dark:bg-gray-800/60 p-3.5 h-28 overflow-hidden">
              <div class="h-2 w-14 bg-gray-200 dark:bg-gray-700 rounded mb-2.5"></div>
              <div class="space-y-2">
                <div class="flex items-center gap-2">
                  <div class="w-4 h-4 rounded bg-gray-100 dark:bg-gray-700/50 flex-shrink-0"></div>
                  <div class="h-1.5 flex-1 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
                <div class="flex items-center gap-2 ml-4">
                  <div class="w-1.5 h-1.5 rounded-full bg-gray-200 dark:bg-gray-600 flex-shrink-0"></div>
                  <div class="h-1.5 flex-1 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
                <div class="flex items-center gap-2 ml-4">
                  <div class="w-1.5 h-1.5 rounded-full bg-gray-200 dark:bg-gray-600 flex-shrink-0"></div>
                  <div class="h-1.5 w-3/4 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
                <div class="flex items-center gap-2">
                  <div class="w-4 h-4 rounded bg-gray-100 dark:bg-gray-700/50 flex-shrink-0"></div>
                  <div class="h-1.5 w-5/6 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
              </div>
            </div>
            <h3 class="text-base font-semibold text-gray-900 dark:text-white mb-1">OKR Planner</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-3">Objectives & key results sheet with progress tracking built in.</p>
            <div class="flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-400 dark:bg-amber-500"></span>
              Coming soon
            </div>
          </div>

          <!-- Template 4 -->
          <div class="template-card reveal rd4 group p-6 rounded-xl border border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-800/30">
            <!-- Mini document preview -->
            <div class="mb-5 rounded-lg border border-gray-100 dark:border-gray-700/50 bg-white dark:bg-gray-800/60 p-3.5 h-28 overflow-hidden">
              <div class="h-2 w-18 bg-gray-200 dark:bg-gray-700 rounded mb-2.5"></div>
              <div class="space-y-2">
                <div class="flex items-center gap-2">
                  <div class="text-[8px] text-gray-300 dark:text-gray-600 font-medium w-3 text-right flex-shrink-0">1</div>
                  <div class="h-1.5 flex-1 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
                <div class="flex items-center gap-2">
                  <div class="text-[8px] text-gray-300 dark:text-gray-600 font-medium w-3 text-right flex-shrink-0">2</div>
                  <div class="h-1.5 w-5/6 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
                <div class="flex items-center gap-2">
                  <div class="text-[8px] text-gray-300 dark:text-gray-600 font-medium w-3 text-right flex-shrink-0">3</div>
                  <div class="h-1.5 w-4/5 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
                <div class="flex items-center gap-2">
                  <div class="text-[8px] text-gray-300 dark:text-gray-600 font-medium w-3 text-right flex-shrink-0">4</div>
                  <div class="h-1.5 flex-1 bg-gray-100 dark:bg-gray-700/50 rounded"></div>
                </div>
              </div>
            </div>
            <h3 class="text-base font-semibold text-gray-900 dark:text-white mb-1">Interview Script</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed mb-3">User interview question bank organized by research objective.</p>
            <div class="flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-400 dark:bg-amber-500"></span>
              Coming soon
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- ═══════════════════════════════ CTA SECTION ═══════════════════════════════ -->
    <section class="relative bg-gray-900 dark:bg-gray-800 overflow-hidden">
      <!-- Lattice overlay -->
      <div class="absolute inset-0 opacity-[0.05] pointer-events-none">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <pattern id="cta-lattice" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M20 0 L40 20 L20 40 L0 20Z" fill="none" stroke="white" stroke-width="0.5"/>
          </pattern>
          <rect width="100%" height="100%" fill="url(#cta-lattice)" />
        </svg>
      </div>

      <div class="relative py-16 lg:py-24 px-4 mx-auto max-w-screen-md text-center">
        <h2 class="reveal text-3xl md:text-5xl font-semibold text-white mb-4">Want an AI that does PM work for you?</h2>
        <p class="reveal rd1 text-lg text-gray-400 max-w-xl mx-auto leading-relaxed mb-10">
          Sindre captures insights from meetings, manages tasks, and helps you make better product decisions&nbsp;&mdash; automatically.
        </p>
        <div class="reveal rd2 flex flex-col sm:flex-row gap-3 justify-center">
          <a href="https://app.sindre.ai/login" class="inline-flex items-center px-6 py-3 text-white bg-brand-700 hover:bg-brand-800 rounded-lg font-medium transition-colors focus:ring-4 focus:ring-brand-200 dark:focus:ring-brand-900">
            Try Sindre Free
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
            </svg>
          </a>
          <a href="https://www.sindre.ai" class="inline-flex items-center px-6 py-3 text-gray-300 border border-gray-600 hover:bg-gray-800 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors">
            Learn more
          </a>
        </div>
        <p class="reveal rd3 text-sm text-gray-500 mt-6">14 days free trial &middot; No credit card required</p>
      </div>
    </section>

    <Footer />

  </div>
</Layout>

<style>
  .toolkit-page {
    font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;
  }

  /* Norse divider */
  .norse-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, #9CA3AF, transparent);
    opacity: 0.3;
  }
  .dark .norse-divider { opacity: 0.15; }

  /* Scroll reveal */
  .reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.7s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.7s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .rd1 { transition-delay: 0.1s; }
  .rd2 { transition-delay: 0.2s; }
  .rd3 { transition-delay: 0.3s; }
  .rd4 { transition-delay: 0.4s; }

  /* Feature card hover */
  .feature-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  }
  .feature-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
  }
  :global(.dark) .feature-card:hover {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  }

  /* Learning plan card */
  .lp-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
  }
  .lp-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
  }
  :global(.dark) .lp-card:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  }

  /* Template card */
  .template-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .template-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
  }
  :global(.dark) .template-card:hover {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  }
</style>

<script is:inline>
  // Scroll reveal observer
  (function() {
    var observer = new IntersectionObserver(
      function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) entry.target.classList.add('visible');
        });
      },
      { threshold: 0.1, rootMargin: '0px 0px -32px 0px' }
    );
    document.querySelectorAll('.toolkit-page .reveal').forEach(function(el) {
      observer.observe(el);
    });

    // Animate stat numbers
    var statEls = document.querySelectorAll('.stat-number');
    var statObserver = new IntersectionObserver(
      function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            var el = entry.target;
            var target = parseInt(el.getAttribute('data-target'), 10);
            if (isNaN(target) || el.dataset.animated) return;
            el.dataset.animated = 'true';
            var duration = 1200;
            var start = performance.now();
            function step(now) {
              var t = Math.min((now - start) / duration, 1);
              // ease-out cubic
              t = 1 - Math.pow(1 - t, 3);
              el.textContent = Math.round(t * target).toString();
              if (t < 1) requestAnimationFrame(step);
              else el.textContent = target + '+';
            }
            requestAnimationFrame(step);
          }
        });
      },
      { threshold: 0.5 }
    );
    statEls.forEach(function(el) { statObserver.observe(el); });
  })();
</script>
