<header>
  <nav class="navbar-root bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-100 dark:border-gray-800/60 fixed w-full z-20 top-0 start-0">
    <div class="flex items-center justify-between mx-auto max-w-screen-xl px-4 lg:px-6 h-16">

      <!-- Logo -->
      <a href="https://www.sindre.ai" class="flex items-center gap-2.5 flex-shrink-0">
        <img src="/sindre-logo-1024.png" class="w-7 h-7 rounded-md" alt="Sindre Logo" />
        <span class="text-[15px] font-semibold text-gray-900 dark:text-white tracking-[-0.01em]">Sindre</span>
      </a>

      <!-- Desktop nav links (centered) -->
      <div class="hidden lg:flex items-center gap-1">
        <a href="https://www.sindre.ai/meeting-agent/"
           class="nav-link px-3.5 py-2 text-[13px] font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg transition-colors duration-200">
          AI Meeting Agent
        </a>
        <a href="https://www.sindre.ai/toolkit"
           class="nav-link px-3.5 py-2 text-[13px] font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg transition-colors duration-200">
          Toolkit
        </a>

        <!-- Apps dropdown -->
        <div class="relative" id="apps-dropdown-wrapper">
          <button type="button" id="apps-dropdown-btn"
                  class="nav-link inline-flex items-center gap-1 px-3.5 py-2 text-[13px] font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg transition-colors duration-200">
            Apps
            <svg class="w-3.5 h-3.5 opacity-50 transition-transform duration-200" id="apps-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div id="apps-dropdown-menu" class="apps-dropdown absolute top-full left-1/2 -translate-x-1/2 mt-2 w-52 opacity-0 invisible translate-y-1 transition-all duration-200 ease-out z-30">
            <div class="rounded-xl border border-gray-200/80 dark:border-gray-700/50 bg-white dark:bg-gray-800 shadow-lg shadow-gray-900/[0.08] dark:shadow-black/30 overflow-hidden py-1.5">
              <a href="https://www.sindre.ai/zoom" class="flex items-center gap-3 px-4 py-2.5 text-[13px] text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150">
                <img src="/zoom.svg" class="w-5 h-5" alt="Zoom" />
                <span>Zoom App</span>
              </a>
              <a href="https://www.sindre.ai/linear" class="flex items-center gap-3 px-4 py-2.5 text-[13px] text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150">
                <img src="/Linear.png" class="w-5 h-5" alt="Linear" />
                <span>Linear App</span>
              </a>
              <a href="https://www.sindre.ai/slack" class="flex items-center gap-3 px-4 py-2.5 text-[13px] text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150">
                <img src="/slack.png" class="w-5 h-5" alt="Slack" />
                <span>Slack App</span>
              </a>
            </div>
          </div>
        </div>

        <a href="https://www.sindre.ai/contact"
           class="nav-link px-3.5 py-2 text-[13px] font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg transition-colors duration-200">
          Contact
        </a>
      </div>

      <!-- Desktop right: auth buttons -->
      <div class="hidden lg:flex items-center gap-2 flex-shrink-0">
        <a href="https://app.sindre.ai"
           class="px-4 py-2 text-[13px] font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors duration-200">
          Log in
        </a>
        <a href="https://app.sindre.ai/signup"
           class="inline-flex items-center px-4 py-2 text-[13px] font-medium text-white bg-brand-700 hover:bg-brand-800 rounded-lg transition-colors duration-200 focus:ring-4 focus:ring-brand-200 dark:focus:ring-brand-900">
          Sign up
          <svg class="w-3.5 h-3.5 ml-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </div>

      <!-- Mobile menu button -->
      <button type="button" id="mobile-menu-btn"
              class="lg:hidden inline-flex items-center justify-center w-10 h-10 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200"
              aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu-panel">
        <svg class="w-5 h-5 hamburger-icon" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5"/>
        </svg>
        <svg class="w-5 h-5 close-icon hidden" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <!-- Mobile menu panel -->
    <div id="mobile-menu-panel" class="mobile-panel lg:hidden hidden border-t border-gray-100 dark:border-gray-800/60 bg-white dark:bg-gray-900">
      <div class="px-4 py-4 space-y-1">
        <a href="https://www.sindre.ai/meeting-agent/"
           class="block px-3 py-2.5 text-[14px] font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors duration-150">
          AI Meeting Agent
        </a>
        <a href="https://www.sindre.ai/toolkit"
           class="block px-3 py-2.5 text-[14px] font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors duration-150">
          Toolkit
        </a>

        <!-- Mobile apps sub-section -->
        <div class="px-3 pt-2 pb-1">
          <span class="text-[11px] font-medium tracking-[0.08em] uppercase text-gray-400 dark:text-gray-500">Apps</span>
        </div>
        <a href="https://www.sindre.ai/zoom"
           class="flex items-center gap-3 px-3 py-2.5 text-[14px] font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors duration-150">
          <img src="/zoom.svg" class="w-5 h-5" alt="Zoom" />
          Zoom App
        </a>
        <a href="https://www.sindre.ai/linear"
           class="flex items-center gap-3 px-3 py-2.5 text-[14px] font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors duration-150">
          <img src="/Linear.png" class="w-5 h-5" alt="Linear" />
          Linear App
        </a>
        <a href="https://www.sindre.ai/slack"
           class="flex items-center gap-3 px-3 py-2.5 text-[14px] font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors duration-150">
          <img src="/slack.png" class="w-5 h-5" alt="Slack" />
          Slack App
        </a>

        <a href="https://www.sindre.ai/contact"
           class="block px-3 py-2.5 text-[14px] font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors duration-150">
          Contact
        </a>

        <!-- Mobile CTA buttons -->
        <div class="pt-4 mt-2 border-t border-gray-100 dark:border-gray-800/60 space-y-2">
          <a href="https://app.sindre.ai"
             class="block text-center px-4 py-2.5 text-[14px] font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors duration-150">
            Log in
          </a>
          <a href="https://app.sindre.ai/signup"
             class="block text-center px-4 py-2.5 text-[14px] font-medium text-white bg-brand-700 hover:bg-brand-800 rounded-lg transition-colors duration-200 focus:ring-4 focus:ring-brand-200 dark:focus:ring-brand-900">
            Sign up free
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>

<style>
  .navbar-root {
    font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;
  }

  /* Dropdown open state */
  .apps-dropdown.open {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
  }

  #apps-dropdown-btn.open .#apps-chevron {
    transform: rotate(180deg);
  }

  /* Mobile panel animation */
  .mobile-panel {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, opacity 0.2s ease;
    opacity: 0;
  }
  .mobile-panel.open {
    max-height: 600px;
    opacity: 1;
  }
  .mobile-panel.open {
    display: block;
  }
</style>

<script is:inline>
  // Apps dropdown
  (function() {
    const btn = document.getElementById('apps-dropdown-btn');
    const menu = document.getElementById('apps-dropdown-menu');
    const chevron = document.getElementById('apps-chevron');
    if (!btn || !menu) return;

    let isOpen = false;

    function toggle() {
      isOpen = !isOpen;
      menu.classList.toggle('open', isOpen);
      if (chevron) chevron.style.transform = isOpen ? 'rotate(180deg)' : '';
    }

    function close() {
      isOpen = false;
      menu.classList.remove('open');
      if (chevron) chevron.style.transform = '';
    }

    btn.addEventListener('click', function(e) {
      e.stopPropagation();
      toggle();
    });

    document.addEventListener('click', function(e) {
      if (!menu.contains(e.target) && !btn.contains(e.target)) {
        close();
      }
    });

    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') close();
    });
  })();

  // Mobile menu
  (function() {
    const btn = document.getElementById('mobile-menu-btn');
    const panel = document.getElementById('mobile-menu-panel');
    if (!btn || !panel) return;

    const hamburger = btn.querySelector('.hamburger-icon');
    const closeIcon = btn.querySelector('.close-icon');
    let isOpen = false;

    btn.addEventListener('click', function() {
      isOpen = !isOpen;
      btn.setAttribute('aria-expanded', isOpen);

      if (isOpen) {
        panel.classList.remove('hidden');
        // Force reflow before adding open class for animation
        panel.offsetHeight;
        panel.classList.add('open');
      } else {
        panel.classList.remove('open');
        // Wait for animation to finish before hiding
        setTimeout(function() {
          if (!panel.classList.contains('open')) {
            panel.classList.add('hidden');
          }
        }, 300);
      }

      if (hamburger) hamburger.classList.toggle('hidden', isOpen);
      if (closeIcon) closeIcon.classList.toggle('hidden', !isOpen);
    });
  })();
</script>
